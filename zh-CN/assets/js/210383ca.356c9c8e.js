"use strict";(self.webpackChunkadguard_knowledge_base=self.webpackChunkadguard_knowledge_base||[]).push([[7822],{3905:(e,t,r)=>{r.d(t,{Zo:()=>u,kt:()=>c});var n=r(7294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var p=n.createContext({}),s=function(e){var t=n.useContext(p),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},u=function(e){var t=s(e.components);return n.createElement(p.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,o=e.originalType,p=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),m=s(r),c=a,k=m["".concat(p,".").concat(c)]||m[c]||d[c]||o;return r?n.createElement(k,i(i({ref:t},u),{},{components:r})):n.createElement(k,i({ref:t},u))}));function c(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=r.length,i=new Array(o);i[0]=m;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l.mdxType="string"==typeof e?e:a,i[1]=l;for(var s=2;s<o;s++)i[s]=r[s];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}m.displayName="MDXCreateElement"},9951:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>u,contentTitle:()=>p,default:()=>c,frontMatter:()=>l,metadata:()=>s,toc:()=>d});r(7294);var n=r(3905);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function i(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}const l={title:"Compatibility issues with different macOS versions",sidebar_position:4},p=void 0,s={unversionedId:"adguard-for-mac/solving-problems/big-sur-issues",id:"adguard-for-mac/solving-problems/big-sur-issues",title:"Compatibility issues with different macOS versions",description:"\u672c\u6587\u4ecb\u7ecd Mac \u7248 AdGuard\u3002\u8fd9\u662f\u4e00\u6b3e\u591a\u529f\u80fd\u5e7f\u544a\u62e6\u622a\u7a0b\u5e8f\uff0c\u53ef\u5728\u7cfb\u7edf\u7ea7\u522b\u4fdd\u62a4\u8bbe\u5907\u3002 \u8981\u4e86\u89e3\u5176\u5de5\u4f5c\u539f\u7406\uff0c \u8bf7\u4e0b\u8f7d AdGuard \u5e94\u7528\u7a0b\u5e8f\u3002",source:"@site/i18n/zh-CN/docusaurus-plugin-content-docs/current/adguard-for-mac/solving-problems/big-sur-issues.md",sourceDirName:"adguard-for-mac/solving-problems",slug:"/adguard-for-mac/solving-problems/big-sur-issues",permalink:"/KnowledgeBase/zh-CN/adguard-for-mac/solving-problems/big-sur-issues",draft:!1,editUrl:"https://github.com/AdguardTeam/KnowledgeBase/edit/master/docs/adguard-for-mac/solving-problems/big-sur-issues.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{title:"Compatibility issues with different macOS versions",sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"\u5982\u4f55\u5728 macOS High Sierra \u53ca\u66f4\u9ad8\u7248\u672c\u4e0a\u5b89\u88c5 AdGuard",permalink:"/KnowledgeBase/zh-CN/adguard-for-mac/solving-problems/high-sierra-compatibility"},next:{title:"\u89e3\u51b3\u5b89\u88c5\u95ee\u9898",permalink:"/KnowledgeBase/zh-CN/adguard-for-mac/solving-problems/installation-issues"}},u={},d=[{value:"\u5b58\u5728\u7684\u95ee\u9898",id:"\u5b58\u5728\u7684\u95ee\u9898",level:2},{value:"Monterey 12\uff1a\u5b58\u5728\u7684\u95ee\u9898",id:"monterey-12\u5b58\u5728\u7684\u95ee\u9898",level:3},{value:"\u4e0e iCloud \u4e13\u7528\u4ee3\u7406\u517c\u5bb9",id:"\u4e0e-icloud-\u4e13\u7528\u4ee3\u7406\u517c\u5bb9",level:4},{value:"\u4e0e\u4fdd\u62a4\u90ae\u4ef6\u6d3b\u52a8\uff08Protect Mail Activity\uff09\u7684\u517c\u5bb9\u6027",id:"\u4e0e\u4fdd\u62a4\u90ae\u4ef6\u6d3b\u52a8protect-mail-activity\u7684\u517c\u5bb9\u6027",level:4},{value:"Monterey 12\u3001Big Sur 11.6 \u53ca\u66f4\u9ad8\u7248\u672c\uff1a\u5b58\u5728\u7684\u95ee\u9898",id:"monterey-12big-sur-116-\u53ca\u66f4\u9ad8\u7248\u672c\u5b58\u5728\u7684\u95ee\u9898",level:3},{value:"\u4e0e Cisco AnyConnect \u517c\u5bb9",id:"\u4e0e-cisco-anyconnect-\u517c\u5bb9",level:4},{value:"\u4e0e Flutter \u517c\u5bb9",id:"\u4e0e-flutter-\u517c\u5bb9",level:4},{value:"\u4f7f\u7528\u65e7\u7248 API \u7684 VPN \u5e94\u7528\u7a0b\u5e8f",id:"\u4f7f\u7528\u65e7\u7248-api-\u7684-vpn-\u5e94\u7528\u7a0b\u5e8f",level:4},{value:"\u5df2\u4fee\u590d\u7684\u95ee\u9898",id:"\u5df2\u4fee\u590d\u7684\u95ee\u9898",level:2},{value:"\u4e0e Little Snitch 5 \u517c\u5bb9",id:"\u4e0e-little-snitch-5-\u517c\u5bb9",level:3},{value:"\u4e0e\u672c\u5730\u4ee3\u7406\u7684\u517c\u5bb9\u6027",id:"\u4e0e\u672c\u5730\u4ee3\u7406\u7684\u517c\u5bb9\u6027",level:3},{value:"\u793a\u4f8b 1\uff1a\u914d\u7f6e\u4e0a\u6e38 Shadowsocks \u4ee3\u7406",id:"\u793a\u4f8b-1\u914d\u7f6e\u4e0a\u6e38-shadowsocks-\u4ee3\u7406",level:4},{value:"Example 2: Configuring an upstream Surge proxy",id:"example-2-configuring-an-upstream-surge-proxy",level:4},{value:"Alternatives to using a Network Extension",id:"alternatives-to-using-a-network-extension",level:2},{value:"Using &quot;Automatic proxy&quot; filtering mode",id:"automatic-proxy",level:3},{value:"Enabling Kernel Extension in Big Sur and Monterey",id:"kernel-extension",level:3}],m={toc:d};function c(e){var{components:t}=e,r=i(e,["components"]);return(0,n.kt)("wrapper",o(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){a(e,t,r[t])}))}return e}({},m,r),{components:t,mdxType:"MDXLayout"}),(0,n.kt)("admonition",{type:"info"},(0,n.kt)("p",{parentName:"admonition"},"\u672c\u6587\u4ecb\u7ecd Mac \u7248 AdGuard\u3002\u8fd9\u662f\u4e00\u6b3e\u591a\u529f\u80fd\u5e7f\u544a\u62e6\u622a\u7a0b\u5e8f\uff0c\u53ef\u5728\u7cfb\u7edf\u7ea7\u522b\u4fdd\u62a4\u8bbe\u5907\u3002 \u8981\u4e86\u89e3\u5176\u5de5\u4f5c\u539f\u7406\uff0c \u8bf7",(0,n.kt)("a",{parentName:"p",href:"https://agrd.io/download-kb-adblock"},"\u4e0b\u8f7d AdGuard \u5e94\u7528\u7a0b\u5e8f"),"\u3002")),(0,n.kt)("h2",{id:"\u5b58\u5728\u7684\u95ee\u9898"},"\u5b58\u5728\u7684\u95ee\u9898"),(0,n.kt)("p",null,"Apple \u516c\u53f8\u6bcf\u5e74\u90fd\u4f1a\u53d1\u5e03 macOS \u7684\u66f4\u65b0\uff0c\u63a8\u51fa\u521b\u65b0\u89e3\u51b3\u65b9\u6848\u5e76\u6dfb\u52a0\u65b0\u7684\u5b9e\u7528\u529f\u80fd\u3002 \u4e0d\u8fc7\uff0c\u6709\u4e9b\u6539\u8fdb\uff0c\u5305\u62ec\u7f51\u7edc\u6269\u5c55 API\uff08Big Sur\uff09\u6216 iCloud \u4e13\u7528\u4ee3\u7406\uff08Monterey\uff09\uff0c\u7ed9\u8bb8\u591a\u5e94\u7528\u7a0b\u5e8f\u5e26\u6765\u4e00\u4e9b\u95ee\u9898\uff0cAdGuard \u4e5f\u4e0d\u4f8b\u5916\u3002 \u5728\u672c\u6587\u4e2d\uff0c\u6211\u4eec\u5c06\u4ecb\u7ecd\u6bcf\u4e2a macOS \u7248\u672c\u7279\u6709\u7684\u5df2\u77e5\u95ee\u9898\uff0c\u4ee5\u53ca\u89e3\u51b3\u8fd9\u4e9b\u95ee\u9898\u7684\u65b9\u5f0f\u3002"),(0,n.kt)("h3",{id:"monterey-12\u5b58\u5728\u7684\u95ee\u9898"},"Monterey 12\uff1a\u5b58\u5728\u7684\u95ee\u9898"),(0,n.kt)("p",null,"Apple \u516c\u53f8\u5c1a\u672a\u89e3\u51b3\u8fd9\u4e9b\u95ee\u9898\uff0c\u6216\u8005\u53ea\u89e3\u51b3\u4e86\u90e8\u5206\u95ee\u9898\u3002"),(0,n.kt)("h4",{id:"\u4e0e-icloud-\u4e13\u7528\u4ee3\u7406\u517c\u5bb9"},"\u4e0e iCloud \u4e13\u7528\u4ee3\u7406\u517c\u5bb9"),(0,n.kt)("p",null,"\u76ee\u524d\uff0cAdGuard \u548c iCloud \u4e13\u7528\u4ee3\u7406\u4e0d\u80fd\u540c\u65f6\u5de5\u4f5c\u3002 AdGuard \u65e0\u6cd5\u963b\u6b62\u5e7f\u544a\uff0c\u56e0\u4e3a iCloud \u4e13\u7528\u4ee3\u7406\u4f1a\u5728 AdGuard \u8fc7\u6ee4\u7f51\u7edc\u8fde\u63a5\u4e4b\u524d\u5bf9\u6d41\u91cf\u8fdb\u884c\u52a0\u5bc6\u3002 \u5f53 iCloud \u4e13\u7528\u4ee3\u7406\u5904\u4e8e\u6d3b\u52a8\u72b6\u6001\u65f6\uff0c\u5e94\u7528\u5c31\u65e0\u6cd5\u8fdb\u884c\u8fc7\u6ee4\uff08\u5305\u62ec\u672c\u5730\u8fc7\u6ee4\uff09\u3002 \u56e0\u6b64\uff0cAdGuard \u65e0\u6cd5\u5728 Safari \u4e2d\u8fc7\u6ee4\u6d41\u91cf\u6216\u6267\u884c DNS \u8fc7\u6ee4\u3002 \u8fd9\u5c31\u662f AdGuard \u9ed8\u8ba4\u4f7f\u7528\u300c\u9ed8\u8ba4\u8def\u7531\u300d\u529f\u80fd\uff0c\u7981\u7528 iCloud \u4e13\u7528\u4ee3\u7406\u7684\u539f\u56e0\u3002"),(0,n.kt)("p",null,"\u8981\u6df1\u5165\u4e86\u89e3\u8fd9\u4e00\u95ee\u9898\uff0c\u8bf7\u9605\u8bfb",(0,n.kt)("a",{parentName:"p",href:"../icloud-private-relay"},"\u672c\u6587"),"\u3002"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"\u5efa\u8bae\u7684\u89e3\u51b3\u65b9\u6848")),(0,n.kt)("p",null,"\u6211\u4eec\u5efa\u8bae\u5c06 AdGuard \u4e0e\u66f4\u4f20\u7edf\u7684 VPN \u670d\u52a1\uff08\u5982 ",(0,n.kt)("a",{parentName:"p",href:"https://adguard-vpn.com/"},"AdGuard VPN"),"\uff09\u4e00\u8d77\u4f7f\u7528\u3002"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"\u66ff\u4ee3\u89e3\u51b3\u65b9\u6848")),(0,n.kt)("p",null,"\u7528\u6237\u53ef\u4ee5\u7981\u7528 AdGuard\uff0c\u9632\u6b62\u5b83\u4f7f\u7528\u300c\u9ed8\u8ba4\u8def\u7531\u300d\u529f\u80fd\u3002 \u524d\u5f80\u300c\u9ad8\u7ea7\u8bbe\u7f6e\u300d\u2192\u300c",(0,n.kt)("inlineCode",{parentName:"p"},"network.extension.monterey.force.split.tunnel"),"\u300d\u8fdb\u884c\u8bbe\u7f6e\u3002 \u8bf7\u6ce8\u610f\uff0c\u542f\u7528\u6b64\u8bbe\u7f6e\u4f1a\u5bfc\u81f4\u4e0a\u8ff0\u95ee\u9898\u3002"),(0,n.kt)("p",null,(0,n.kt)("img",{parentName:"p",src:"https://cdn.adtidy.org/content/kb/ad_blocker/mac/mac_adguard_advanced_settings.jpg",alt:"Advanced Settings *border"})),(0,n.kt)("h4",{id:"\u4e0e\u4fdd\u62a4\u90ae\u4ef6\u6d3b\u52a8protect-mail-activity\u7684\u517c\u5bb9\u6027"},"\u4e0e\u4fdd\u62a4\u90ae\u4ef6\u6d3b\u52a8\uff08Protect Mail Activity\uff09\u7684\u517c\u5bb9\u6027"),(0,n.kt)("p",null,"Apple \u90ae\u4ef6\u5e94\u7528\u73b0\u4e8e\u4e0b\u8f7d\u90ae\u4ef6\u56fe\u50cf\u65f6\u4f7f\u7528\u4ee3\u7406\u4ee5\u9690\u85cf\u7528\u6237\u7684 IP \u5730\u5740\u3002 \u4f46\u5982\u6709\u542f\u52a8\u7684 VPN \u8fde\u63a5\uff0c\u5219\u5b83\u65e0\u6cd5\u5de5\u4f5c\u3002 \u56e0\u5176\u89c6 AdGuard \u4e3a VPN\uff0c\u6240\u4ee5\u5b83\u4e0d\u4f1a\u81ea\u52a8\u9884\u8f7d\u56fe\u50cf\u3002"),(0,n.kt)("p",null,"\u8981\u6df1\u5165\u4e86\u89e3\u8fd9\u4e00\u95ee\u9898\uff0c\u8bf7\u9605\u8bfb",(0,n.kt)("a",{parentName:"p",href:"../protect-mail-activity"},"\u672c\u6587"),"\u3002"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"\u5efa\u8bae\u7684\u89e3\u51b3\u65b9\u6848")),(0,n.kt)("p",null,"\u6b64\u65f6\uff0c\u6211\u4eec\u5efa\u8bae\u4f7f\u7528\u66f4\u4f20\u7edf\u7684 VPN \u670d\u52a1\uff0c\u5982 ",(0,n.kt)("a",{parentName:"p",href:"https://adguard-vpn.com/"},"AdGuard VPN"),"\uff0c\u800c\u4e0d\u662f\u8f83\u65b0\u7684 Apple \u9690\u79c1\u529f\u80fd\u3002"),(0,n.kt)("h3",{id:"monterey-12big-sur-116-\u53ca\u66f4\u9ad8\u7248\u672c\u5b58\u5728\u7684\u95ee\u9898"},"Monterey 12\u3001Big Sur 11.6 \u53ca\u66f4\u9ad8\u7248\u672c\uff1a\u5b58\u5728\u7684\u95ee\u9898"),(0,n.kt)("p",null,"Apple \u516c\u53f8\u5c1a\u672a\u89e3\u51b3\u8fd9\u4e9b\u95ee\u9898\uff0c\u6216\u8005\u53ea\u89e3\u51b3\u4e86\u90e8\u5206\u95ee\u9898\u3002"),(0,n.kt)("h4",{id:"\u4e0e-cisco-anyconnect-\u517c\u5bb9"},"\u4e0e Cisco AnyConnect \u517c\u5bb9"),(0,n.kt)("p",null,"\u5728\u300c",(0,n.kt)("em",{parentName:"p"},"\u7f51\u7edc\u6269\u5c55"),"\u300d\u6a21\u5f0f\u4e0b\uff0cAdGuard \u65e0\u6cd5\u4e0e Cisco AnyConnect \u4e00\u8d77\u5de5\u4f5c\u3002 \u7528\u6237\u5fc5\u987b\u5c06 AdGuard \u5207\u6362\u5230\u300c",(0,n.kt)("em",{parentName:"p"},"\u81ea\u52a8\u4ee3\u7406"),"\u300d\u6a21\u5f0f\u3002 \u4e3a\u6b64\uff0c\u8bf7\u6309\u7167",(0,n.kt)("a",{parentName:"p",href:"#automatic-proxy"},"\u4ee5\u4e0b\u8bf4\u660e"),"\u6267\u884c\u64cd\u4f5c\u3002"),(0,n.kt)("h4",{id:"\u4e0e-flutter-\u517c\u5bb9"},"\u4e0e Flutter \u517c\u5bb9"),(0,n.kt)("p",null,"\u8fd9\u4e2a\u95ee\u9898\u5728 2021 \u5e74 6 \u6708\u53d1\u5e03\u7684 Flutter 2.2 \u4e2d\u5f97\u5230\u4e86\u89e3\u51b3\u3002 \u4f46\u8981\u4fee\u590d Flutter \u5f00\u53d1\u7684\u5e94\u7528\u7a0b\u5e8f\uff0c\u7528\u6237\u9700\u8981\u7b49\u5f85\u66f4\u65b0\u3002"),(0,n.kt)("p",null,"\u5982\u679c\u5728 Monterey \u6216 Big Sur \u4e0a\u4f7f\u7528\u300c\u7f51\u7edc\u6269\u5c55\u300d\u6a21\u5f0f\u4e0b\u7684 Flutter \u548c AdGuard\uff08\u6216\u4efb\u4f55\u5176\u4ed6\u201c\u900f\u660e\u4ee3\u7406\u201d\u7c7b\u578b\u7684\u5e94\u7528\u7a0b\u5e8f\uff09\uff0c\u5c31\u4f1a\u9047\u5230\u95ee\u9898\uff1a\u9879\u76ee\u65e0\u6cd5\u6253\u5f00\uff0cFlutter \u4e5f\u5c06\u65e0\u6cd5\u6b63\u5e38\u8fd0\u884c\u3002 \u6211\u4eec\u5df2\u7ecf\u5411 Apple \u516c\u53f8\u62a5\u544a\u4e86\u8fd9\u4e2a\u9519\u8bef\u3002 \u540c\u65f6\uff0c\u7528\u6237\u53ef\u4ee5\u4f7f\u7528\u8fd9\u4e9b\u4e34\u65f6\u89e3\u51b3\u65b9\u6848\uff1a"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"\u5728\u300c",(0,n.kt)("a",{parentName:"p",href:"#automatic-proxy"},"\u81ea\u52a8\u4ee3\u7406"),"\u300d\u6a21\u5f0f\u4e0b\u4f7f\u7528 AdGuard\u3002")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"\u7981\u7528 SIP \u5e76\u5c06 AdGuard \u5207\u6362\u5230\u5185\u6838\u6269\u5c55\u6a21\u5f0f\uff0c\u5982",(0,n.kt)("a",{parentName:"p",href:"#kernel-extension"},"\u6b64\u5904"),"\u6240\u8ff0\u3002"))),(0,n.kt)("h4",{id:"\u4f7f\u7528\u65e7\u7248-api-\u7684-vpn-\u5e94\u7528\u7a0b\u5e8f"},"\u4f7f\u7528\u65e7\u7248 API \u7684 VPN \u5e94\u7528\u7a0b\u5e8f"),(0,n.kt)("p",null,"\u5c3d\u7ba1 AdGuard \u5728\u7cfb\u7edf\u8bbe\u7f6e\u4e2d\u663e\u793a\u4e3a VPN\uff0c\u4f46\u4e0e\u5176\u4ed6\u57fa\u4e8e VPN \u7684\u5e94\u7528\u7a0b\u5e8f\u4e00\u8d77\u4f7f\u7528\u65f6\u5e94\u8be5\u4e0d\u4f1a\u5f15\u8d77\u4efb\u4f55\u51b2\u7a81\u3002 \u4e0d\u8fc7\uff0c\u5982\u679c\u7528\u6237\u4f7f\u7528\u7684\u662f\u4ece App Store \u4ee5\u5916\u4e0b\u8f7d\u7684\u57fa\u4e8e VPN \u7684\u5e94\u7528\u7a0b\u5e8f\uff0c\u5b83\u6709\u53ef\u80fd\u4f7f\u7528\u65e7\u7684 VPN API\uff0c\u7528\u6237\u5fc5\u987b\u5c06\u5176\u6392\u9664\u5728\u8fc7\u6ee4\u4e4b\u5916\uff1a"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"\u5f00\u542f AdGuard \u83dc\u5355\u3002"),(0,n.kt)("li",{parentName:"ol"},"\u9009\u62e9\u300c",(0,n.kt)("em",{parentName:"li"},"\u9996\u9009\u9879..."),"\u300d\u3002"),(0,n.kt)("li",{parentName:"ol"},"\u5207\u6362\u5230\u300c",(0,n.kt)("em",{parentName:"li"},"\u7f51\u7edc"),"\u300d\u9009\u9879\u5361\u3002"),(0,n.kt)("li",{parentName:"ol"},"\u5355\u51fb\u300c",(0,n.kt)("em",{parentName:"li"},"\u5e94\u7528\u7a0b\u5e8f"),"\u300d\u6309\u94ae\u3002"),(0,n.kt)("li",{parentName:"ol"},"\u627e\u5230\u8981\u6392\u9664\u7684\u5e94\u7528\u7a0b\u5e8f\uff0c\u53d6\u6d88\u9009\u4e2d\u65c1\u8fb9\u7684\u590d\u9009\u6846\u3002")),(0,n.kt)("p",null,(0,n.kt)("img",{parentName:"p",src:"https://cdn.adtidy.org/content/kb/ad_blocker/mac/legacy.jpg",alt:"Filtered applications"})),(0,n.kt)("h2",{id:"\u5df2\u4fee\u590d\u7684\u95ee\u9898"},"\u5df2\u4fee\u590d\u7684\u95ee\u9898"),(0,n.kt)("p",null,"Apple \u516c\u53f8\u73b0\u5df2\u4fee\u590d\u4e86\u4ee5\u4e0b\u95ee\u9898\uff0c\u4f46\u5728\u65e7\u7248\u672c\u7684 macOS Big Sur \u4e2d\u7528\u6237\u8fd8\u4f1a\u9047\u5230\u4e00\u4e9b\u95ee\u9898\u3002"),(0,n.kt)("h3",{id:"\u4e0e-little-snitch-5-\u517c\u5bb9"},"\u4e0e Little Snitch 5 \u517c\u5bb9"),(0,n.kt)("p",null,"\u76ee\u524d\uff0cAdGuard \u7684\u300c\u7f51\u7edc\u6269\u5c55\u300d\u6a21\u5f0f\u65e0\u6cd5\u4e0e ",(0,n.kt)("a",{parentName:"p",href:"https://obdev.at/products/littlesnitch/index.html"},"Little Snitch 5")," \u517c\u5bb9\u3002 \u5f53\u8fd9\u4e24\u4e2a\u7a0b\u5e8f\u90fd\u5728\u8fd0\u884c\u65f6\uff0c\u6709\u53ef\u80fd\u4f1a\u9047\u5230\u5404\u79cd\u5e94\u7528\u7a0b\u5e8f\u7684\u884c\u4e3a\u95ee\u9898\uff0c\u5373\u4f7f\u5b83\u4eec\u6ca1\u6709\u88ab AdGuard \u8fc7\u6ee4\u3002 \u8fd9\u4e2a\u95ee\u9898\u662f\u7531 Big Sur \u4e2d\u7684\u4e00\u4e2a\u9519\u8bef\u9020\u6210\u7684\uff0c\u6211\u4eec\u5df2\u7ecf\u5411 Apple \u516c\u53f8\u901a\u62a5\u8fd9\u4e00\u60c5\u51b5\u3002 \u8fd9\u8ba9\u6211\u4eec\u76f8\u4fe1\uff0c\u8fd9\u4e2a\u95ee\u9898\u4f1a\u5728\u4e0b\u4e00\u6b21\u66f4\u65b0\u4e2d\u5f97\u5230\u89e3\u51b3\u3002"),(0,n.kt)("p",null,"\u8bf7\u6ce8\u610f\uff0c\u8fd9\u4e2a\u95ee\u9898\u65e0\u6cd5\u901a\u8fc7\u7981\u7528\u300cLittle Snitch\u300d\u7684\u8fde\u63a5\u76d1\u63a7\u6765\u89e3\u51b3\uff0c\u56e0\u4e3a\u8fd9\u4e00\u64cd\u4f5c\u5e76\u4e0d\u80fd\u4ece\u7cfb\u7edf\u4e2d\u5378\u8f7d\u300cLittle Snitch\u300d\u7684\u6269\u5c55\u3002 \u6211\u4eec\u5efa\u8bae\uff0c\u81f3\u5c11\u5728 Apple \u4fee\u590d\u8be5\u9519\u8bef\u4e4b\u524d\uff0c\u5207\u6362\u5230\u300c",(0,n.kt)("a",{parentName:"p",href:"#automatic-proxy"},(0,n.kt)("strong",{parentName:"a"},"\u81ea\u52a8\u4ee3\u7406")),"\u300d\u8fc7\u6ee4\u6a21\u5f0f\u3002"),(0,n.kt)("h3",{id:"\u4e0e\u672c\u5730\u4ee3\u7406\u7684\u517c\u5bb9\u6027"},"\u4e0e\u672c\u5730\u4ee3\u7406\u7684\u517c\u5bb9\u6027"),(0,n.kt)("admonition",{type:"note"},(0,n.kt)("p",{parentName:"admonition"},"\u73b0\u5728\uff0cAdGuard \u53ef\u4ee5\u987a\u5229\u8fc7\u6ee4\u672c\u5730\u4ee3\u7406\uff08\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff09\u3002 \u5982\u679c\u7528\u6237\u5728\u64cd\u4f5c\u7cfb\u7edf\u7248\u672c 11.1+ \u6216 Big Sur 11.0 \u4e2d\u9047\u5230\u4efb\u4f55\u95ee\u9898\uff0c\u8bf7\u4ece\u7cfb\u7edf\u8bbe\u7f6e\u4e2d\u79fb\u9664\u672c\u5730\u4ee3\u7406\uff0c\u5e76\u6309\u7167\u4ee5\u4e0b\u8bf4\u660e\u5728 AdGuard \u4e2d\u914d\u7f6e\u4e0a\u6e38\u4ee3\u7406\u3002")),(0,n.kt)("p",null,"\u5728 Big Sur \u7684 AdGuard for Mac \u4e2d\u914d\u7f6e\u4e0a\u6e38\u4ee3\u7406\uff1a"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"\u6253\u5f00 AdGuard \u8bbe\u7f6e\u7684",(0,n.kt)("em",{parentName:"li"},"\u300c\u9996\u9009\u9879\u300d\u2192\u300c\u7f51\u7edc\u300d\u2192\u300c\u51fa\u7ad9\u4ee3\u7406\u300d"),"\u3002"),(0,n.kt)("li",{parentName:"ol"},"\u6839\u636e\u4ee3\u7406\u7c7b\u578b\u9009\u62e9 HTTP\u3001HTTPS\u3001SOCKS4\xa0\u6216\xa0SOCKS5\u3002"),(0,n.kt)("li",{parentName:"ol"},"\u586b\u5199\u4ee5\u4e0b\u5b57\u6bb5\uff1a",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"host")," \u662f\u4ee3\u7406\u670d\u52a1\u5668\u7684 IP \u5730\u5740\u3001"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"port")," \u662f\u4ee3\u7406\u670d\u52a1\u5668\u5e0c\u671b\u4f7f\u7528\u7684\u7aef\u53e3\u53f7\u3001"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"user")," \u548c ",(0,n.kt)("inlineCode",{parentName:"li"},"password")," \u662f\u4ee3\u7406\u7684\u76f8\u5e94\u7528\u6237\u540d\u548c\u5bc6\u7801\uff08\u5982\u9700\u8981\uff09\u3002 \u5982\u679c\u4e0d\u9700\u8981\uff0c\u5ffd\u7565\u5176\u4e2d\u4e00\u4e2a\u6216\u4e24\u4e2a\u3002")))),(0,n.kt)("p",null,"\u5982\u679c\u60a8\u9047\u5230\u4efb\u4f55\u95ee\u9898\uff0c\u8bf7\u901a\u8fc7 ",(0,n.kt)("a",{parentName:"p",href:"mailto:support@adguard.com"},"support@adguard.com")," \u8054\u7cfb\u6211\u4eec\u7684\u6280\u672f\u652f\u6301\u3002"),(0,n.kt)("h4",{id:"\u793a\u4f8b-1\u914d\u7f6e\u4e0a\u6e38-shadowsocks-\u4ee3\u7406"},"\u793a\u4f8b 1\uff1a\u914d\u7f6e\u4e0a\u6e38 Shadowsocks \u4ee3\u7406"),(0,n.kt)("p",null,"\u4e0b\u9762\u4e3e\u4f8b\u8bf4\u660e\u5982\u4f55\u4e3a ",(0,n.kt)("a",{parentName:"p",href:"https://shadowsocks.org"},"Shadowsocks")," \u914d\u7f6e\u4e0a\u6e38\u4ee3\u7406\u3002"),(0,n.kt)("p",null,"\u9996\u5148\uff0c\u7528\u6237\u9700\u8981\u4e00\u4e2a\u80fd\u6b63\u5e38\u5de5\u4f5c\u7684\u4ee3\u7406\u670d\u52a1\u5668\u3002 \u6700\u6709\u53ef\u80fd\u7684\u662f\uff0c\u60a8\u8981\u8bbe\u7f6e\u5b83\uff0c\u53ef\u4ee5\u4f7f\u7528\u8fd9\u6837\u4e00\u4e2a JSON \u6587\u4ef6\uff08",(0,n.kt)("inlineCode",{parentName:"p"},"server")," \u548c ",(0,n.kt)("inlineCode",{parentName:"p"},"password")," \u503c\u5728\u6b64\u968f\u673a\u9009\u62e9\uff09\uff1a"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-json"},'{\n   "server":"111.222.333.444",\n   "server_port":8388,\n   "local_port":1080,\n   "password":"barfoo!",\n   "timeout":600,\n   "method":"chacha20-ietf-poly1305"\n}\n')),(0,n.kt)("admonition",{type:"tip"},(0,n.kt)("p",{parentName:"admonition"},"\u60a8\u53ef\u4ee5\u5728 ",(0,n.kt)("a",{parentName:"p",href:"https://shadowsocks.org/guide/what-is-shadowsocks.html"},"Shadowsocks \u7f51\u7ad9"),"\u4e0a\u627e\u5230\u6709\u5173\u5982\u4f55\u5f00\u59cb\u8bbe\u7f6e\u7684\u66f4\u591a\u4fe1\u606f\u3002")),(0,n.kt)("p",null,"\u7136\u540e\uff0c\u7528\u6237\u8981\u5728 Mac \u4e0a\u5b89\u88c5 Shadowsocks \u5ba2\u6237\u7aef\u3002 \u8bf7\u786e\u4fdd\u5728\u8bbe\u7f6e\u4e2d\u9009\u62e9\u300c\u624b\u52a8\u6a21\u5f0f\u300d\u6216\u300c\u81ea\u52a8\u6a21\u5f0f\u300d\uff01 \u5982\u679c\u60a8\u9009\u62e9\u300c\u5168\u5c40\u6a21\u5f0f\u300d\uff08\u6216 11.1 \u4e4b\u524d Big Sur \u7248\u672c\u4e2d\u7684\u300c\u81ea\u52a8\u6a21\u5f0f\u300d\uff09\uff0c\u914d\u7f6e\u5c06\u4e0d\u8d77\u4f5c\u7528\u3002"),(0,n.kt)("p",null,(0,n.kt)("img",{parentName:"p",src:"https://cdn.adtidy.org/content/kb/ad_blocker/mac/shadowsocks.jpg",alt:"Select Manual Mode or Auto Mode in settings *mobile"})),(0,n.kt)("p",null,"Now go to ",(0,n.kt)("em",{parentName:"p"},"AdGuard menu \u2192 Advanced \u2192 Advanced Settings...")," and set the ",(0,n.kt)("em",{parentName:"p"},"Value")," area of the ",(0,n.kt)("inlineCode",{parentName:"p"},"upstream.proxy")," setting to ",(0,n.kt)("inlineCode",{parentName:"p"},"socks5://localhost:1080"),'. Notice that you need to use "local_port" value from the JSON file here.'),(0,n.kt)("p",null,"Because Shadowsocks uses SOCKS5, you also need to set the value of the ",(0,n.kt)("inlineCode",{parentName:"p"},"upstream.proxy.socks5udp")," setting in AdGuard Advanced Settings to ",(0,n.kt)("inlineCode",{parentName:"p"},"true")," to make AdGuard route UDP traffic to the proxy server."),(0,n.kt)("h4",{id:"example-2-configuring-an-upstream-surge-proxy"},"Example 2: Configuring an upstream Surge proxy"),(0,n.kt)("p",null,"In Big Sur v11.1+, there are no known conflicts between AdGuard and Surge proxy. If you are using an older version of Big Sur (prior to 11.1), check that ",(0,n.kt)("strong",{parentName:"p"},"System Proxy")," in the bottom right corner is disabled. Otherwise, Surge won't work with AdGuard. On the other hand, ",(0,n.kt)("strong",{parentName:"p"},"Enhanced Mode")," can be enabled without causing a conflict in any Big Sur version."),(0,n.kt)("p",null,(0,n.kt)("img",{parentName:"p",src:"https://cdn.adtidy.org/content/kb/ad_blocker/mac/outbound-proxy.png",alt:"Configuring an upstream Surge proxy *border"})),(0,n.kt)("p",null,"Now go to ",(0,n.kt)("em",{parentName:"p"},"Preferences \u2192 Network \u2192 Outbound proxy")," and fill in the fields. For SOCKS5 proxy type:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"host"),": localhost"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"port"),": 6153 For HTTP proxy type:"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"host"),": localhost"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"port"),": 6152")),(0,n.kt)("h2",{id:"alternatives-to-using-a-network-extension"},"Alternatives to using a Network Extension"),(0,n.kt)("p",null,"It's impossible to foresee each and every possible problem that can pop up in Big Sur or Monterey, there are countless various hardware/software and settings configurations. If you face any compatibility issues, please contact our support team, but feel free to try one of these workarounds first."),(0,n.kt)("h3",{id:"automatic-proxy"},'Using "Automatic proxy" filtering mode'),(0,n.kt)("p",null,"If you face problems in Big Sur or Monterey which can't be resolved by any of the methods above, you can try switching AdGuard to ",(0,n.kt)("em",{parentName:"p"},"Automatic proxy")," mode."),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"\u5f00\u542f AdGuard \u83dc\u5355\u3002"),(0,n.kt)("li",{parentName:"ol"},"\u9009\u62e9\u300c",(0,n.kt)("em",{parentName:"li"},"\u9996\u9009\u9879..."),"\u300d\u3002"),(0,n.kt)("li",{parentName:"ol"},"\u5207\u6362\u5230\u300c",(0,n.kt)("em",{parentName:"li"},"\u7f51\u7edc"),"\u300d\u9009\u9879\u5361\u3002"),(0,n.kt)("li",{parentName:"ol"},"Click the ",(0,n.kt)("em",{parentName:"li"},"Select Mode...")," button."),(0,n.kt)("li",{parentName:"ol"},"Select ",(0,n.kt)("em",{parentName:"li"},"Automatic Proxy"),".")),(0,n.kt)("p",null,(0,n.kt)("img",{parentName:"p",src:"https://cdn.adtidy.org/content/kb/ad_blocker/mac/automatic-proxy_en.jpg",alt:"Switch AdGuard to Automatic proxy mode"})),(0,n.kt)("p",null,"Now AdGuard has automatically added a ",(0,n.kt)("strong",{parentName:"p"},".pac")," file to your Mac's network settings, so that the system will consider AdGuard a proxy and try to send all traffic through AdGuard."),(0,n.kt)("admonition",{type:"note"},(0,n.kt)("p",{parentName:"admonition"},"Some apps may ignore this system setting and their traffic will not be filtered.")),(0,n.kt)("h3",{id:"kernel-extension"},"Enabling Kernel Extension in Big Sur and Monterey"),(0,n.kt)("p",null,"By default AdGuard uses Network Extension framework in Big Sur and Monterey as the old Kernel Extension framework is disabled there. This can cause some compatibility problems, but to enable Kernel Extension back, you need to disable System Integrity Protection (SIP) first. To disable SIP, follow this instruction:"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Click the ",(0,n.kt)("em",{parentName:"li"},"Apple symbol")," in the Menu bar."),(0,n.kt)("li",{parentName:"ol"},"Click ",(0,n.kt)("em",{parentName:"li"},"Restart\u2026")),(0,n.kt)("li",{parentName:"ol"},"Hold down ",(0,n.kt)("em",{parentName:"li"},"Command-R")," to reboot into Recovery Mode."),(0,n.kt)("li",{parentName:"ol"},"Click ",(0,n.kt)("em",{parentName:"li"},"Utilities"),"."),(0,n.kt)("li",{parentName:"ol"},"Select ",(0,n.kt)("em",{parentName:"li"},"Terminal"),"."),(0,n.kt)("li",{parentName:"ol"},"Type ",(0,n.kt)("inlineCode",{parentName:"li"},"csrutil disable"),"."),(0,n.kt)("li",{parentName:"ol"},"Press ",(0,n.kt)("em",{parentName:"li"},"Return")," or ",(0,n.kt)("em",{parentName:"li"},"Enter")," on your keyboard."),(0,n.kt)("li",{parentName:"ol"},"Click the ",(0,n.kt)("em",{parentName:"li"},"Apple symbol")," in the Menu bar."),(0,n.kt)("li",{parentName:"ol"},"Click ",(0,n.kt)("em",{parentName:"li"},"Restart\u2026"))),(0,n.kt)("p",null,"Now that SIP is disabled, this is how you enable Kernel Extension:"),(0,n.kt)("p",null,(0,n.kt)("img",{parentName:"p",src:"https://cdn.adtidy.org/content/kb/ad_blocker/mac/kernel_en.jpg",alt:"Enable Kernel Extension"})),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"\u5f00\u542f AdGuard \u83dc\u5355\u3002"),(0,n.kt)("li",{parentName:"ol"},"\u9009\u62e9\u300c",(0,n.kt)("em",{parentName:"li"},"\u9996\u9009\u9879..."),"\u300d\u3002"),(0,n.kt)("li",{parentName:"ol"},"\u5207\u6362\u5230\u300c",(0,n.kt)("em",{parentName:"li"},"\u7f51\u7edc"),"\u300d\u9009\u9879\u5361\u3002"),(0,n.kt)("li",{parentName:"ol"},"Click the ",(0,n.kt)("em",{parentName:"li"},"Select Mode...")," button."),(0,n.kt)("li",{parentName:"ol"},"Select ",(0,n.kt)("em",{parentName:"li"},"Kernel Extension"),"."),(0,n.kt)("li",{parentName:"ol"},"Confirm that you want to switch to Kernel Extension.")),(0,n.kt)("admonition",{type:"caution"},(0,n.kt)("p",{parentName:"admonition"},"However, we only recommend using this method if everything else fails, as this may lead to unexpected issues.")))}c.isMDXComponent=!0}}]);